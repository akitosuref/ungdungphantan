---
title: "Ã”n táº­p Cuá»‘i kÃ¬"
date: "2025-05-25"
updated: "2025-05-25"
author: "VÆ°Æ¡ng quang QuÃ½"
categories:
  - "Distributed Systems"
  - "Processes and Threads"
  - "Concurrency"
coverImage: "https://th.bing.com/th/id/OIP.xqYunaXLEIiIBgbHGncjBQHaHa?cb=iwc2&rs=1&pid=ImgDetMain"
coverWidth: 16
coverHeight: 9
excerpt: Ã´n táº­p cuá»‘i kÃ¬
---
ğŸ–§ Tá»•ng Há»£p Kiáº¿n Thá»©c Há»‡ PhÃ¢n TÃ¡n (Distributed Systems)
1. Há»‡ thá»‘ng phÃ¢n tÃ¡n, táº­p trung, phi táº­p trung khÃ¡c nhau nhÆ° tháº¿ nÃ o?
Loáº¡i há»‡ thá»‘ng	Äáº·c Ä‘iá»ƒm chÃ­nh	VÃ­ dá»¥
Táº­p trung	Táº¥t cáº£ dá»¯ liá»‡u vÃ  xá»­ lÃ½ Ä‘á»u táº­p trung á»Ÿ má»™t nÃºt trung tÃ¢m.	Há»‡ thá»‘ng mainframe
PhÃ¢n tÃ¡n	CÃ¡c nÃºt hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p vÃ  phá»‘i há»£p qua máº¡ng.	Há»‡ thá»‘ng microservices
Phi táº­p trung	KhÃ´ng cÃ³ nÃºt trung tÃ¢m rÃµ rÃ ng, nhÆ°ng cÃ³ tá»• chá»©c chia sáº» vai trÃ².	Blockchain, BitTorrent

XÃ¡c Ä‘á»‹nh khÃ¡c biá»‡t chÃ­nh:
Kiá»ƒm tra sá»± hiá»‡n diá»‡n cá»§a nÃºt trung tÃ¢m vÃ  má»©c Ä‘á»™ kiá»ƒm soÃ¡t táº­p trung.

á»¨ng phÃ³ sá»± cá»‘:

Táº­p trung: dá»… bá»‹ sáº­p toÃ n bá»™.

PhÃ¢n tÃ¡n & phi táº­p trung: chá»‹u lá»—i tá»‘t hÆ¡n.

2. CÃ¡c Ä‘áº·c tÃ­nh cá»§a há»‡ phÃ¢n tÃ¡n
TÃ­nh minh báº¡ch: áº¨n chi tiáº¿t há»‡ thá»‘ng (vá»‹ trÃ­, truy cáº­p, di trÃº, Ä‘á»“ng thá»i,...)

Kháº£ nÄƒng má»Ÿ rá»™ng: ThÃªm nÃºt khÃ´ng áº£nh hÆ°á»Ÿng hiá»‡u suáº¥t.

Chá»‹u lá»—i: Váº«n hoáº¡t Ä‘á»™ng khi cÃ³ sá»± cá»‘ cá»¥c bá»™.

TÃ­nh Ä‘á»“ng thá»i: Nhiá»u tÃ¡c vá»¥ xáº£y ra Ä‘á»“ng thá»i.

TÃ­nh khÃ´ng Ä‘á»“ng bá»™: Truyá»n thÃ´ng khÃ´ng Ä‘áº£m báº£o thá»i gian thá»±c.

KhÃ´ng Ä‘á»“ng nháº¥t: Há»— trá»£ Ä‘a ná»n táº£ng (OS, ngÃ´n ngá»¯,...)

3. Má»¥c Ä‘Ã­ch cá»§a nÃºt chá»§ trong há»‡ phÃ¢n tÃ¡n
Quáº£n lÃ½, Ä‘iá»u phá»‘i hoáº¡t Ä‘á»™ng chung.

PhÃ¢n phá»‘i tÃ i nguyÃªn.

XÃ¡c thá»±c vÃ  cáº¥p quyá»n.

Náº¿u nÃºt chá»§ gáº·p sá»± cá»‘:
-> Dáº«n Ä‘áº¿n giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥ hoáº·c cáº§n cÃ³ cÆ¡ cháº¿ thay tháº¿ (vÃ­ dá»¥: election trong Bully algorithm).

4. Giao tiáº¿p gossip protocol
Táº¡i sao khÃ´ng gá»­i toÃ n bá»™? TrÃ¡nh quÃ¡ táº£i máº¡ng, tÄƒng kháº£ nÄƒng má»Ÿ rá»™ng.

KhÃ´ng dÃ¹ng trung tÃ¢m: VÃ¬ dá»… bá»‹ táº¯c ngháº½n hoáº·c trá»Ÿ thÃ nh Ä‘iá»ƒm lá»—i.

5. Yáº¿u tá»‘ cá»‘t lÃµi cá»§a há»‡ phÃ¢n tÃ¡n
Äá»“ng bá»™ hÃ³a

Truyá»n thÃ´ng

Quáº£n lÃ½ tÃ i nguyÃªn phÃ¢n tÃ¡n

Chá»‹u lá»—i

Báº£o máº­t

6. LÃ½ do sá»­ dá»¥ng há»‡ phÃ¢n tÃ¡n
Hiá»‡u nÄƒng cao

Má»Ÿ rá»™ng linh hoáº¡t

Chá»‹u lá»—i tá»‘t

ÄÃ¡p á»©ng Ä‘á»‹a lÃ½ (phÃ¢n phá»‘i toÃ n cáº§u)

Táº­n dá»¥ng tÃ i nguyÃªn ráº£nh rá»—i

7. Äá»‹nh nghÄ©a há»‡ phÃ¢n tÃ¡n
Há»‡ phÃ¢n tÃ¡n lÃ  táº­p há»£p cÃ¡c mÃ¡y tÃ­nh Ä‘á»™c láº­p, hiá»ƒn thá»‹ vá»›i ngÆ°á»i dÃ¹ng nhÆ° má»™t há»‡ thá»‘ng thá»‘ng nháº¥t.

8. HÃ¬nh áº£nh cáº§n chá»¥p vÃ  Ä‘Æ°a lÃªn blog
Cristian algorithm

Berkeley algorithm

RBS (Reference Broadcast Synchronization)

Lamport clock

Bully algorithm

Ring algorithm

9. Ká»¹ thuáº­t phÃ¢n tÃ¡n há»— trá»£
Má»¥c tiÃªu	Ká»¹ thuáº­t há»— trá»£
Láº­p trÃ¬nh thá»§ tá»¥c	RPC (Remote Procedure Call)
Láº­p trÃ¬nh web	Web services, REST, SOAP
HÆ°á»›ng Ä‘á»‘i tÆ°á»£ng	RMI (Remote Method Invocation)

10. Tiáº¿n trÃ¬nh nháº¹, tiáº¿n trÃ¬nh, luá»“ng
Loáº¡i	Æ¯u Ä‘iá»ƒm	NhÆ°á»£c Ä‘iá»ƒm
Tiáº¿n trÃ¬nh nháº¹ (lightweight process)	Táº¡o nhanh, tiÃªu tá»‘n Ã­t tÃ i nguyÃªn	Chia sáº» bá»™ nhá»› nÃªn dá»… lá»—i
Tiáº¿n trÃ¬nh (process)	CÃ´ láº­p tá»‘t	Tá»‘n tÃ i nguyÃªn hÆ¡n
Luá»“ng (thread)	Chia sáº» bá»™ nhá»›, giao tiáº¿p nhanh	KhÃ³ kiá»ƒm soÃ¡t Ä‘á»“ng bá»™

Khi lá»—i há»‡ thá»‘ng xáº£y ra:

Tiáº¿n trÃ¬nh nháº¹ vÃ  luá»“ng cÃ³ thá»ƒ gÃ¢y sáº­p toÃ n bá»™ tiáº¿n trÃ¬nh chÃ­nh.

Tiáº¿n trÃ¬nh riÃªng biá»‡t Ã­t bá»‹ áº£nh hÆ°á»Ÿng láº«n nhau.

Má»‘i quan há»‡:

Má»™t tiáº¿n trÃ¬nh cÃ³ thá»ƒ chá»©a nhiá»u luá»“ng.

11. MÃ´ hÃ¬nh Client - Server
Client: Gá»­i yÃªu cáº§u.

Server: Xá»­ lÃ½ vÃ  tráº£ lá»i yÃªu cáº§u.

12. Gá»i thá»§ tá»¥c tá»« xa (RPC)
Cho phÃ©p má»™t chÆ°Æ¡ng trÃ¬nh gá»i hÃ m náº±m trÃªn mÃ¡y khÃ¡c nhÆ° thá»ƒ cá»¥c bá»™.

13. MÃ´ hÃ¬nh phÃ¢n táº§ng giao thá»©c & hÆ°á»›ng thÃ´ng Ä‘iá»‡p
Má»¥c Ä‘Ã­ch: TÃ¡ch biá»‡t vai trÃ², tÄƒng tÃ¡i sá»­ dá»¥ng.

Lá»£i Ã­ch: Báº£o trÃ¬ dá»… dÃ ng, thay Ä‘á»•i táº§ng khÃ´ng áº£nh hÆ°á»Ÿng táº§ng khÃ¡c.

14. Sharding lÃ  gÃ¬?
Sharding lÃ  chia dá»¯ liá»‡u lá»›n thÃ nh cÃ¡c pháº§n nhá» hÆ¡n (shard) Ä‘á»ƒ lÆ°u trá»¯ trÃªn nhiá»u mÃ¡y.

15. GÃ³i luá»“ng cÃ³ thá»ƒ lÃ m gÃ¬?
Xá»­ lÃ½ song song

Quáº£n lÃ½ káº¿t ná»‘i nhiá»u client

TÄƒng hiá»‡u nÄƒng há»‡ thá»‘ng

16. Luá»“ng kiá»ƒu ngÆ°á»i dÃ¹ng vs kiá»ƒu nhÃ¢n
Loáº¡i luá»“ng	Äáº·c Ä‘iá»ƒm
NgÆ°á»i dÃ¹ng	Quáº£n lÃ½ bá»Ÿi user-level thÆ° viá»‡n
NhÃ¢n	Quáº£n lÃ½ bá»Ÿi há»‡ Ä‘iá»u hÃ nh

17. CÃ¡c hÃ m chÃ­nh trong RPC
register(): Ä‘Äƒng kÃ½ hÃ m tá»« xa

call(): gá»i hÃ m tá»« xa

return(): tráº£ vá» káº¿t quáº£

bind(): liÃªn káº¿t client/server

18. Äá»‹nh nghÄ©a
Tiáº¿n trÃ¬nh (Process): chÆ°Æ¡ng trÃ¬nh Ä‘ang cháº¡y.

Luá»“ng (Thread): Ä‘Æ¡n vá»‹ nhá» hÆ¡n tiáº¿n trÃ¬nh.

Multithread Client/Server: client/server há»— trá»£ nhiá»u luá»“ng Ä‘á»ƒ xá»­ lÃ½ Ä‘á»“ng thá»i.

19. MapReduce
Map: chia nhá» cÃ´ng viá»‡c.

Reduce: tá»•ng há»£p káº¿t quáº£.

Má»¥c Ä‘Ã­ch: xá»­ lÃ½ dá»¯ liá»‡u lá»›n song song trong há»‡ phÃ¢n tÃ¡n.

20. áº¢o hÃ³a (Virtualization)
Táº¡o mÃ¡y áº£o trÃªn pháº§n cá»©ng tháº­t.

Má»¥c Ä‘Ã­ch: Tá»‘i Æ°u tÃ i nguyÃªn, cÃ¡ch ly mÃ´i trÆ°á»ng, dá»… má»Ÿ rá»™ng.

21. Kiáº¿n trÃºc server Ä‘a luá»“ng
Má»™t server táº¡o nhiá»u luá»“ng Ä‘á»ƒ phá»¥c vá»¥ nhiá»u client cÃ¹ng lÃºc.

22. CÃ i Ä‘áº·t luá»“ng
Thread pool

Fork-per-request

Event-driven vá»›i I/O khÃ´ng Ä‘á»“ng bá»™

23. Báº£ng bÄƒm phÃ¢n tÃ¡n
Má»¥c Ä‘Ã­ch: phÃ¢n phá»‘i dá»¯ liá»‡u Ä‘á»u trÃªn cÃ¡c nÃºt.

Consistent Hashing: thay Ä‘á»•i sá»‘ nÃºt Ã­t áº£nh hÆ°á»Ÿng dá»¯ liá»‡u.

Finger table: há»— trá»£ tÃ¬m kiáº¿m nhanh hÆ¡n (nhÆ° trong Chord).

24. KhÃ´ng gian pháº³ng & Ä‘á»‹nh danh
KhÃ´ng gian pháº³ng: khÃ´ng cÃ³ cáº¥u trÃºc thá»© báº­c.

Äá»‹nh danh: chuá»—i duy nháº¥t Ä‘á»‹nh danh tÃ i nguyÃªn.

Äáº·c Ä‘iá»ƒm: Ä‘á»™c láº­p, khÃ´ng trÃ¹ng, khÃ´ng phá»¥ thuá»™c vá»‹ trÃ­.

25. Äá»“ng bá»™ hÃ³a Ä‘á»“ng há»“
Äá»“ng há»“ váº­t lÃ½ khÃ´ng Ä‘áº£m báº£o vÃ¬ Ä‘á»™ lá»‡ch.

Má»¥c Ä‘Ã­ch: Ä‘áº£m báº£o thá»© tá»± sá»± kiá»‡n.

Thuáº­t toÃ¡n: Cristian, Berkeley, Lamport clock,...

26. Äá»“ng há»“ Lamport
Giáº£i quyáº¿t: thá»© tá»± xáº£y ra cá»§a sá»± kiá»‡n trong há»‡ phÃ¢n tÃ¡n.

Quy táº¯c:

Má»—i sá»± kiá»‡n tÄƒng Ä‘á»“ng há»“.

Khi gá»­i/nháº­n: so sÃ¡nh vÃ  cáº­p nháº­t.

27. BÃ i táº­p Ä‘á»“ng há»“ Lamport
Xem slides chÆ°Æ¡ng 4 - 5, lÃ m cÃ¡c bÃ i gÃ¡n thá»i gian Lamport, vector clock.

28. Giao thá»©c Ä‘á»“ng bá»™
NTP (Network Time Protocol): dá»±a vÃ o client-server, tÃ­nh Ä‘á»™ trá»….

PTP (Precision Time Protocol): chÃ­nh xÃ¡c hÆ¡n, dÃ¹ng trong máº¡ng LAN, yÃªu cáº§u pháº§n cá»©ng há»— trá»£.